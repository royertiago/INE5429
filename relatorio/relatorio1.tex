\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[brazil]{babel}
\usepackage{amsmath}
\usepackage{amssymb}

\title{
    INE5429 --- Segurança em Computação \\
    Relatório I --- Geração de Números Primos
}
\author{
    Tiago Royer - 12100776
}

\date{16 de setembro de 2015}

\begin{document}

\maketitle

O objetivo deste trabalho é gerar números primos grandes.
Números primos possuem sua importância em protocolos de segurança
porque o problema de encontrar os fatores primos de um número não-primo
é computacionalmente intratável para números grandes,
cujos fatores primos possuem milhares de bits.
Portanto, ao gerar dois números primos grandes $p$ e $q$,
mesmo que disponibilizemos para o mundo todo o produto $pq$
podemos confiar que nenhum atacante consegue fatorar este número em tempo hábil.

O trabalho pedia que implementássemos um gerador de números aleatórios
e um testador probabilístico de primalidade,
e os usasse para computar uma tabela de números primos com tamanhos arbitrários.

Todo o código está disponível em \verb"https://github.com/royertiago/INE5429".
Devido à necessidade de se trabalhar com números grandes eficientemente,
a linguagem escolhida foi C++,
tanto pela eficiência da linguagem quanto ao suporte da biblioteca GMP.

\section{Geração de números aleatórios}

O gerador escolhido foi o Xorshift,
implementado em \verb"random/xorshift.hpp".
O algoritmo aplica sucessivas vezes uma mesma transformação linear
num vetor de bits.
Devido ao formato da matriz utilizada,
esta transformação pode ser implementada muito eficientemente em inteiros de 32 bits,
ficando sempre da forma
\begin{verbatim}
    std::uint32_t t = x ^ (x << a);
    x = y; y = z; z = w;
    return w = (w ^ (w >> c)) ^ (t ^ (t >> b));
\end{verbatim}
Os valores \verb"x", \verb"y", \verb"z" e \verb"w" fazem parte do estado do gerador.
Os inteiros \verb"a", \verb"b" e \verb"c" são fixos;
eles são escolhidos de forma a garantir que o gerador possua período máximo.
(Peguei uma das sugestões do paper do criador do gerador: $a = 15$,
$b = 4$, $c = 21$.)
A primeira linha salva uma cópia (alterada) de \verb"x",
a segunda desloca o estado para a esquerda (faz o \emph{shift})
e a terceira altera os últimos 32 bits de estado,
em função dos valores originais de \verb"x" e \verb"w",
usando apenas ou-exclusivo.
Por isso o nome \emph{Xorshift}.

\subsection{Execução do gerador}

O arquivo \verb"xorshift.cpp", na raíz do repositório,
possui uma interface em linha de comando para o gerador de números aleatórios,
que permite escolher a semente inicial e a quantidade de números gerados.
(A semente padrão é baseada no tempo atual.)

Executando o comando \verb"./xorshift --x 12346 --y 1478 --z 789 --w 0 --count 20"
temos a saída
\begin{verbatim}
429712185
458348143
449052049
449051975
1950587035
2334369840
1634231841
2337152953
952165105
1644753284
894933719
3112971583
4105161773
4022965524
410405136
3180650047
2919629628
2299636233
3055551424
1770253741
\end{verbatim}

\end{document}
